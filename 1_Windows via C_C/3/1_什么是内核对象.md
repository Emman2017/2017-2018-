# 内核对象

> 讲诉内核对象及它们的句柄

->	内核对象可以供系统和应用程序使用来管理各种各样的资源（进程、线程、文件等）

->	系统要创建若干类型的内核对象都是需要调用函数

->	每个内核对象只是内核分配的一个内存块,只能由该内核访问

->	该内存块是一种数据结构，维护对象的各种信息

->	例如，进程对象具有进程ID、一个基本优先级、一个退出代码

->	由于限制，因此，我们无法之间操作内存修改内核对象的数据结构

->	Windows提供了一组函数来访问内核对象

当调用一个用于创建内核对象的函数时，该函数就返回一个用于标识该对象的句柄。

> 注意 

句柄跟进程是密切相关了，跨进程共享需要其他操作。

##### 内核对象的使用计数

->	内核对象归内核所有，并不会由于进程的终止而一定终止（可能被共享了）

->	使用计数是所有内核对象的数据成员之一

->	被创建时，计数为1，被其他进程访问则计数+1，进程终止则确定计数次数，为0撤销该内核对象

##### 安全性

->	内核对象能得到安全描述符的保护（谁创建该对象，谁能访问该对象等等）

->	一般编写服务器应用程序时会用到

->	创建内核对象时，函数几乎都有一个指向SECURITY_ATTRIBUTES结构的指针作为参数（NULL默认安全性）

->	当要获取访问权而不是创建时要指明说明操作 如:OpenFileMapping中的FILE_MAP_READ



